const modalLetter=document.querySelector(".footer-contacts-button"),modalPopup=document.querySelector(".modal"),modalClose=modalPopup.querySelector(".modal-close"),modalForm=modalPopup.querySelector(".modal-info"),modalName=modalPopup.querySelector(".modal-info-text-name"),modalEmail=modalPopup.querySelector(".modal-info-text-email"),modalText=modalPopup.querySelector(".modal-info-text-letter");let isStorageSupport=!0,storage="";try{storage=localStorage.getItem("name"),storage=localStorage.getItem("email")}catch(o){isStorageSupport=!1}modalLetter.addEventListener("click",function(o){o.preventDefault(),modalPopup.classList.add("modal-show"),storage?(modalName.value=storage,modalEmail.focus()):(modalName.focus(),storage?(modalEmail.value=storage,modalText.focus()):modalEmail.focus()),modalName.focus()}),modalClose.addEventListener("click",function(o){o.preventDefault(),modalPopup.classList.remove("modal-show"),modalPopup.classList.remove("modal-error")}),modalForm.addEventListener("submit",function(o){modalName.value&&modalEmail.value&&modalText.value?isStorageSupport&&(localStorage.setItem("name",modalName.value),localStorage.setItem("email",modalEmail.value)):(o.preventDefault(),modalPopup.classList.remove("modal-error"),modalPopup.offsetWidth=modalPopup.offsetWidth,modalPopup.classList.add("modal-error"))}),window.addEventListener("keydown",function(o){27===o.keyCode&&modalPopup.classList.contains("modal-show")&&(o.preventDefault(),modalPopup.classList.remove("modal-show"),modalPopup.classList.remove("modal-error"))});